<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<style>
table.head, table.foot { width: 100%; }
td.head-rtitle, td.foot-os { text-align: right; }
td.head-vol { text-align: center; }
table.foot td { width: 50%; }
table.head td { width: 33%; }
div.spacer { margin: 1em 0; }
</style>
<link rel="stylesheet" href="/citrun.css" type="text/css" media="all"/>
<title>
CITRUN-WRAP(1)</title>
</head>
<body>
<div class="mandoc">
<table class="head">
<tbody>
<tr>
<td class="head-ltitle">
CITRUN-WRAP(1)</td>
<td class="head-vol">
General Commands Manual</td>
<td class="head-rtitle">
CITRUN-WRAP(1)</td>
</tr>
</tbody>
</table>
<div class="section">
<h1 id="NAME">NAME</h1> <b class="name">citrun_wrap</b> &#8212; <span class="desc">enable rewriting on a build command</span></div>
<div class="section">
<h1 id="SYNOPSIS">SYNOPSIS</h1><table class="synopsis">
<col style="width: 11.00ex;"/>
<col/>
<tbody>
<tr>
<td>
<b class="name">citrun_wrap</b></td>
<td>
<i class="arg">build_cmd</i> [<span class="opt"><i class="arg">...</i></span>]</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h1 id="DESCRIPTION">DESCRIPTION</h1> C It Run must rewrite source code to add instrumentation. This process happens at compile time.<div class="spacer">
</div>
The <b class="name">citrun_wrap</b> utility enables source code rewriting on any files compiled during <i class="arg">build_cmd</i>.<div class="spacer">
</div>
An important caveat is that <i class="arg">build_cmd</i> must search <span class="env">PATH</span> when finding compiler executables, which must be named one of the following:<div class="spacer">
</div>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
c++</li>
<li class="list-bul" style="margin-top: 0.00em;">
cc</li>
<li class="list-bul" style="margin-top: 0.00em;">
clang</li>
<li class="list-bul" style="margin-top: 0.00em;">
clang++</li>
<li class="list-bul" style="margin-top: 0.00em;">
eg++</li>
<li class="list-bul" style="margin-top: 0.00em;">
egcc</li>
<li class="list-bul" style="margin-top: 0.00em;">
g++</li>
<li class="list-bul" style="margin-top: 0.00em;">
gcc</li>
</ul>
<div class="spacer">
</div>
The warnings and errors from the rewrite tool are indiscernible from the warnings and errors generated by the native compiler, so all rewriting activity is sent to a <i class="file">citrun.log</i> file. Human readable summaries can be generated by <a class="link-man" href="citrun_check.1.html">citrun_check(1)</a>.<div class="spacer">
</div>
Incremental building is supported, but mixing object files created by different versions of <b class="name">citrun_wrap</b> is not.</div>
<div class="section">
<h1 id="FILES">FILES</h1><dl style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-tag">
<dt class="list-tag" style="margin-top: 1.00em;">
<i class="file">citrun.log</i></dt>
<dd class="list-tag" style="margin-left: 6.00ex;">
Rewrite activity log.</dd>
</dl>
</div>
<div class="section">
<h1 id="EXIT_STATUS">EXIT STATUS</h1> The <b class="name">citrun_wrap</b> utility exits with the build command exit code.</div>
<div class="section">
<h1 id="EXAMPLES">EXAMPLES</h1> Let &#8220;program&#8221; be in a project that is:<div class="spacer">
</div>
<ul style="margin-top: 0.00em;margin-bottom: 0.00em;" class="list list-bul">
<li class="list-bul" style="margin-top: 0.00em;">
written in C</li>
<li class="list-bul" style="margin-top: 0.00em;">
compiled with gcc</li>
<li class="list-bul" style="margin-top: 0.00em;">
built with make and make searches PATH for gcc</li>
</ul>
<div class="spacer">
</div>
Prepending <b class="name">citrun_wrap</b> to the projects build command adds instrumentation:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ citrun_wrap make</code></div>
</blockquote>
<div class="spacer">
</div>
Now see &#8220;program&#8221; run:<div class="spacer">
</div>
<blockquote style="margin-top: 0.00em;margin-bottom: 0.00em;">
<div class="display">
<code class="lit">$ ./program</code></div>
</blockquote>
<div class="spacer">
</div>
If no viewer is running then <a class="link-man" href="citrun_gl.1.html">citrun_gl(1)</a> is started.</div>
<div class="section">
<h1 id="SEE_ALSO">SEE ALSO</h1> <a class="link-man" href="citrun_check.1.html">citrun_check(1)</a>, <a class="link-man" href="citrun_term.1.html">citrun_term(1)</a></div>
<table class="foot">
<tbody>
<tr>
<td class="foot-date">
April 10, 2016</td>
<td class="foot-os">
OpenBSD 6.0</td>
</tr>
</tbody>
</table>
</div>
</body>
</html>

