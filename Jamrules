#OPTIM = -O2 ;

if $(OS) = OPENBSD {
	C++ = eg++ ;

	# Link directly against libestdc++ from ports
	LINKLIBS on scv_viewer = `pkg-config gl glew freetype2 --libs` ;
	LINKLIBS on scv_viewer += -lestdc++ -lm -lglut ;

	SHLIB_SUF = so.0.0 ;
}

if $(OS) = MACOSX {
	LINKLIBS on scv_viewer = `pkg-config glew freetype2 --libs` ;
	LINKLIBS on scv_viewer += -framework OpenGL -framework GLUT ;
	LINKLIBS on scv_viewer += -lc++ -lm ;

	C++FLAGS = -Wno-deprecated ;

	SHLIB_SUF = 0.dylib ;
	# We must specify that _scv_node0 will be available at runtime
	LINKFLAGS on libscv.$(SHLIB_SUF) = -Wl,-U,__scv_node0 ;
}
