# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

name                citrun
version             0
categories          devel
platforms           darwin
license             BSD
description         Watch your source code execute
long_description    Citrun adds compile time instrumentation so you can watch your program run
homepage            http://citrun.com
#master_sites        http://citrun.com/src/

fetch.type          git
git.url             http://git.0x30.net/citrun
git.branch          origin/master

depends_lib         path:bin/perl:perl5 \
                    port:llvm-3.7 \
                    port:freetype

depends_build       path:bin/pkg-config:pkgconfig \
                    bin:jam:jam

# depends_test        port:p5-file-which \
#                     port:p5-expect \
#                     port:p5-list-moreutils

use_configure       no

build.cmd           PREFIX=${prefix} jam

destroot.cmd        PREFIX=${destroot}${prefix} jam
destroot.destdir

test.run            yes
test.cmd            prove
test.target
