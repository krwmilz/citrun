SubDir TOP share ;

rule InstallCompilerSyms {
	Depends install : $(1) ;
}

actions InstallCompilerSyms
{
	mkdir -p $(PREFIX)/share/citrun
	ln -s ../../bin/citrun-inst $(PREFIX)/share/citrun/cc
	ln -s ../../bin/citrun-inst $(PREFIX)/share/citrun/gcc
	ln -s ../../bin/citrun-inst $(PREFIX)/share/citrun/egcc
	ln -s ../../bin/citrun-inst $(PREFIX)/share/citrun/clang
	ln -s ../../bin/citrun-inst $(PREFIX)/share/citrun/c++
	ln -s ../../bin/citrun-inst $(PREFIX)/share/citrun/g++
	ln -s ../../bin/citrun-inst $(PREFIX)/share/citrun/eg++
	ln -s ../../bin/citrun-inst $(PREFIX)/share/citrun/clang++
}

# These are used for in-tree testing
#SoftLink $(TOP)/share/cc :  $(PREFIX)/src/citrun-inst ;
#SoftLink $(TOP)/share/gcc : $(PREFIX)/src/citrun-inst ;

# This is a completely different set generated at install time
InstallCompilerSyms $(PREFIX)/share/citrun : cc gcc ;
